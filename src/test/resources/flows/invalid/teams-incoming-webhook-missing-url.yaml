id: teamsMissingUrl
namespace: io.kestra.tests

tasks:
  - id: "teams_incoming_webhook"
    type: "io.kestra.plugin.notifications.teams.TeamsIncomingWebhook"
    payload: |
      {
        "@type": "MessageCard",
        "@context": "http://schema.org/extensions",
        "themeColor": "0076D7",
        "summary": "Notification message",
        "sections": [{
          "activityTitle": "Rolling Workflow started",
          "activitySubtitle": "Workflow Notification",
          "facts": [{
            "name": "URL",
            "value": "[Rolling Workflow](${deploymentUrl}"
          }],
          "markdown": true
        }]
      }
