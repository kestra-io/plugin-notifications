id: realtime-trigger
namespace: io.kestra.tests

tasks:
  - id: process-realtime-email
    type: io.kestra.core.tasks.log.Log
    message: |
      Real-time email received:
      Subject: {{ trigger.subject }}
      From: {{ trigger.from }}
      Date: {{ trigger.date }}
      Body: {{ trigger.body }}

triggers:
  - id: realtime-trigger
    type: io.kestra.plugin.notifications.mail.RealTimeTrigger
    protocol: IMAP
    host: localhost
    port: 3143
    username: test
    password: password
    folder: INBOX
    ssl: false
    trustAllCertificates: true
    interval: PT1S